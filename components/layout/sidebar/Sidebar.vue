<template>
  <div class="">
    <div class="sidebar close">
      <div class="logo-details">
        <svg
          id="logo"
          xmlns="http://www.w3.org/2000/svg"
          xmlns:xlink="http://www.w3.org/1999/xlink"
          width="367.691"
          height="360.153"
          viewBox="0 0 367.691 360.153"
        >
          <defs>
            <linearGradient
              id="linear-gradient"
              x1="0.5"
              x2="0.596"
              y2="1.608"
              gradientUnits="objectBoundingBox"
            >
              <stop offset="0" stop-color="#33c3d6" />
              <stop offset="1" stop-color="#3266d5" />
            </linearGradient>
          </defs>
          <path
            id="パス_522"
            data-name="パス 522"
            d="M639.261,219.254c-103-35.35-148.629,44.718-146.853,49.229,1.92,4.8,8.638,3.839,25.915,4.8,12.929.72,27.47,8.427,33.968,12.257a173.641,173.641,0,0,1,86.969-66.285Z"
            transform="translate(-492.358 -209.915)"
            fill="url(#linear-gradient)"
          />
          <path
            id="パス_523"
            data-name="パス 523"
            d="M861.3,393.245a12.89,12.89,0,0,0-.077-1.334,25.137,25.137,0,0,0-1.842-7.89c-3.513-10.817-10.462-24.744-8.639-32.049,6.719-26.875-.528-53.846-17.766-75.778A173.248,173.248,0,0,0,523.44,383.167c0,1.8,0,3.6.086,5.385l-.086-.106A181.409,181.409,0,0,0,704.846,569.853s15.012,1.229,50.391-2.4c37.433-3.839,39.765-12,56.149-12,17.277,0,25.915,5.759,28.795,1.92s-9.6-26.875-10.558-42.232.96-42.232-1.919-41.272-20.156,20.156-31.674,29.754-19.2,12.478-20.156,15.357,0,8.638-2.879,10.558-20.156,9.6-42.232,9.6a93.108,93.108,0,0,1-24-3.139A103.181,103.181,0,0,1,642.8,358.433s12.161,17.584,15.04,36.78,2.88,35.206,3.36,37.279,3.359,1.113,5.279-.806,29.754-16.317,36.473-39.353c6.633-22.757,9.521-35.225,8.638-62.388h2.371a103.226,103.226,0,0,1,99.522,75.846A25.416,25.416,0,0,0,861.3,393.754v-.48Z"
            transform="translate(-493.607 -209.9)"
            fill="url(#linear-gradient)"
          />
        </svg>

        <span class="logo_name">CodingLab</span>
      </div>
      <ul class="nav-links">
        <li>
          <a href="#">
            <i class="bx bx-grid-alt"></i>
            <span class="link_name">Dashboard</span>
          </a>
          <ul class="sub-menu blank">
            <li><a class="link_name" href="#">Category</a></li>
          </ul>
        </li>
        <li>
          <div class="iocn-link">
            <a href="#">
              <i class="bx bx-collection"></i>
              <span class="link_name">Category</span>
            </a>
            <i class="bx bxs-chevron-down arrow"></i>
          </div>
          <ul class="sub-menu">
            <li><a class="link_name" href="#">Category</a></li>
            <li><a href="#">HTML & CSS</a></li>
            <li><a href="#">JavaScript</a></li>
            <li><a href="#">PHP & MySQL</a></li>
          </ul>
        </li>
        <li>
          <div class="iocn-link">
            <a href="#">
              <i class="bx bx-book-alt"></i>
              <span class="link_name">Posts</span>
            </a>
            <i class="bx bxs-chevron-down arrow"></i>
          </div>
          <ul class="sub-menu">
            <li><a class="link_name" href="#">Posts</a></li>
            <li><a href="#">Web Design</a></li>
            <li><a href="#">Login Form</a></li>
            <li><a href="#">Card Design</a></li>
          </ul>
        </li>
        <li>
          <a href="#">
            <i class="bx bx-pie-chart-alt-2"></i>
            <span class="link_name">Analytics</span>
          </a>
          <ul class="sub-menu blank">
            <li><a class="link_name" href="#">Analytics</a></li>
          </ul>
        </li>
        <li>
          <a href="#">
            <i class="bx bx-line-chart"></i>
            <span class="link_name">Chart</span>
          </a>
          <ul class="sub-menu blank">
            <li><a class="link_name" href="#">Chart</a></li>
          </ul>
        </li>
        <li>
          <div class="iocn-link">
            <a href="#">
              <i class="bx bx-plug"></i>
              <span class="link_name">Plugins</span>
            </a>
            <i class="bx bxs-chevron-down arrow"></i>
          </div>
          <ul class="sub-menu">
            <li><a class="link_name" href="#">Plugins</a></li>
            <li><a href="#">UI Face</a></li>
            <li><a href="#">Pigments</a></li>
            <li><a href="#">Box Icons</a></li>
          </ul>
        </li>
        <li>
          <a href="#">
            <i class="bx bx-compass"></i>
            <span class="link_name">Explore</span>
          </a>
          <ul class="sub-menu blank">
            <li><a class="link_name" href="#">Explore</a></li>
          </ul>
        </li>
        <li>
          <a href="#">
            <i class="bx bx-history"></i>
            <span class="link_name">History</span>
          </a>
          <ul class="sub-menu blank">
            <li><a class="link_name" href="#">History</a></li>
          </ul>
        </li>
        <li>
          <a href="#">
            <i class="bx bx-cog"></i>
            <span class="link_name">Setting</span>
          </a>
          <ul class="sub-menu blank">
            <li><a class="link_name" href="#">Setting</a></li>
          </ul>
        </li>
        <li>
          <div class="profile-details">
            <div class="profile-content">
              <img src="image/profile.jpg" alt="profileImg" />
            </div>
            <div class="name-job">
              <div class="profile_name">Prem Shahi</div>
              <div class="job">Web Desginer</div>
            </div>
            <i class="bx bx-log-out"></i>
          </div>
        </li>
      </ul>
    </div>
    <section class="home-section">
      <div class="home-content">
        <i class="bx bx-menu"></i>
        <span class="text">Drop Down Sidebar</span>
      </div>
    </section>
  </div>
</template>

<script>
export default {
  components: {},
  data() {
    return {}
  },
  mounted() {
    let arrow = document.querySelectorAll('.arrow')
    for (var i = 0; i < arrow.length; i++) {
      arrow[i].addEventListener('click', (e) => {
        let arrowParent = e.target.parentElement.parentElement //selecting main parent of arrow
        arrowParent.classList.toggle('showMenu')
      })
    }
    let sidebar = document.querySelector('.sidebar')
    let sidebarBtn = document.querySelector('.bx-menu')
    console.log(sidebarBtn)
    sidebarBtn.addEventListener('click', () => {
      sidebar.classList.toggle('close')
    })
  },
}
</script>

<style lang="scss" scoped>
.sidebar {
  @apply fixed top-0 left-0 h-full duration-200;
  width: 260px;
  background: var(--bg-secondary);
  z-index: 100;

  .logo-details {
    @apply flex items-center w-full;
    height: 60px;
    i,
    svg {
      @apply text-center w-auto;
      font-size: 30px;
      color: var(--color);
      height: 50px;
      min-width: 78px;
      line-height: 50px;
    }
    .logo_name {
      @apply font-bold duration-200;
      font-size: 22px;
      color: var(--color);
      transition-delay: 0.1s;
    }
  }
}
.close {
  width: 78px;
}
.sidebar.close .logo-details .logo_name {
  @apply opacity-0;
  transition-delay: 0s;
  pointer-events: none;
}
.sidebar .nav-links {
  @apply h-full overflow-auto h-full;
  padding: 30px 0 150px 0;
}
.sidebar.close .nav-links {
  @apply overflow-visible;
}
.sidebar .nav-links::-webkit-scrollbar {
  @apply hidden;
}
.sidebar .nav-links li {
  @apply relative duration-200;
  list-style: none;
}
.sidebar .nav-links li:hover {
  background: var(--bg-secondary);
}
.sidebar .nav-links li .iocn-link {
  @apply flex items-center justify-between;
}
.sidebar.close .nav-links li .iocn-link {
  @apply block;
}
.sidebar .nav-links li i {
  height: 50px;
  min-width: 78px;
  text-align: center;
  line-height: 50px;
  color: var(--color);
  font-size: 20px;
  cursor: pointer;
  transition: all 0.2s ease;
}
.sidebar .nav-links li.showMenu i.arrow {
  transform: rotate(-180deg);
}
.sidebar.close .nav-links i.arrow {
  @apply hidden;
}
.sidebar .nav-links li a {
  @apply flex items-center;
  text-decoration: none;
}
.sidebar .nav-links li a .link_name {
  @apply duration-200;
  font-size: 18px;
  color: var(--color);
}
.sidebar.close .nav-links li a .link_name {
  @apply opacity-0;
  pointer-events: none;
}
.sidebar .nav-links li .sub-menu {
  @apply hidden;
  padding: 6px 6px 14px 80px;
  margin-top: -10px;
  background: var(--bg-secondary);
}
.sidebar .nav-links li.showMenu .sub-menu {
  @apply block;
}
.sidebar .nav-links li .sub-menu a {
  color: var(--color);
  font-size: 15px;
  padding: 5px 0;
  white-space: nowrap;
  opacity: 0.6;
  transition: all 0.2s ease;
}
.sidebar .nav-links li .sub-menu a:hover {
  opacity: 1;
}
.sidebar.close .nav-links li .sub-menu {
  position: absolute;
  left: 100%;
  top: -10px;
  margin-top: 0;
  padding: 10px 20px;
  border-radius: 0 6px 6px 0;
  opacity: 0;
  display: block;
  pointer-events: none;
  transition: 0s;
}
.sidebar.close .nav-links li:hover .sub-menu {
  top: 0;
  opacity: 1;
  pointer-events: auto;
  transition: all 0.2s ease;
}
.sidebar .nav-links li .sub-menu .link_name {
  display: none;
}
.sidebar.close .nav-links li .sub-menu .link_name {
  font-size: 18px;
  opacity: 1;
  display: block;
}
.sidebar .nav-links li .sub-menu.blank {
  opacity: 1;
  pointer-events: auto;
  padding: 3px 20px 6px 16px;
  opacity: 0;
  pointer-events: none;
}
.sidebar .nav-links li:hover .sub-menu.blank {
  top: 50%;
  transform: translateY(-50%);
}
.sidebar .profile-details {
  position: fixed;
  bottom: 0;
  width: 260px;
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: var(--bg-secondary);
  padding: 12px 0;
  transition: all 0.2s ease;
}
.sidebar.close .profile-details {
  background: none;
}
.sidebar.close .profile-details {
  width: 78px;
}
.sidebar .profile-details .profile-content {
  display: flex;
  align-items: center;
}
.sidebar .profile-details img {
  height: 52px;
  width: 52px;
  object-fit: cover;
  border-radius: 16px;
  margin: 0 14px 0 12px;
  background: var(--bg-secondary);
  transition: all 0.2s ease;
}
.sidebar.close .profile-details img {
  padding: 10px;
}
.sidebar .profile-details .profile_name,
.sidebar .profile-details .job {
  color: #fff;
  font-size: 18px;
  font-weight: 500;
  white-space: nowrap;
}
.sidebar.close .profile-details i,
.sidebar.close .profile-details .profile_name,
.sidebar.close .profile-details .job {
  display: none;
}
.sidebar .profile-details .job {
  font-size: 12px;
}
.home-section {
  position: relative;
  background: var(--bg-secondary);
  height: 100vh;
  left: 260px;
  width: calc(100% - 260px);
  transition: all 0.2s ease;
}
.sidebar.close ~ .home-section {
  left: 78px;
  width: calc(100% - 78px);
}
.home-section .home-content {
  height: 60px;
  display: flex;
  align-items: center;
}
.home-section .home-content .bx-menu,
.home-section .home-content .text {
  color: #11101d;
  font-size: 35px;
}
.home-section .home-content .bx-menu {
  margin: 0 15px;
  cursor: pointer;
}
.home-section .home-content .text {
  font-size: 26px;
  font-weight: 600;
}
@media (max-width: 420px) {
  .sidebar.close .nav-links li .sub-menu {
    display: none;
  }
}
</style>
